!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).ccunits={})}(this,function(t){"use strict";function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var e=20,i=1,b=1e6,o=-7,s=21,f="[big.js] ",h=f+"Invalid ",y=h+"decimal places",c=h+"rounding mode",M=f+"Division by zero",l={},x=void 0,a=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function P(t,e,r,n){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===r)n=5<=i[o];else if(2===r)n=5<i[o]||5==i[o]&&(n||o<0||i[o+1]!==x||1&i[o-1]);else if(3===r)n=n||!!i[0];else if(n=!1,0!==r)throw Error(c);if(o<1)i.length=1,n?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,n)for(;9<++i[o];)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(r<0||3<r||r!==~~r)throw Error(c);return t}function r(t,e,r,n){var i,o,s=t.constructor,c=!t.c[0];if(r!==x){if(r!==~~r||r<(3==e)||b<r)throw Error(3==e?h+"precision":y);for(r=n-(t=new s(t)).e,t.c.length>++n&&P(t,r,s.RM),2==e&&(n=t.e+r+1);t.c.length<n;)t.c.push(0)}if(i=t.e,r=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(1<r?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(0<i)if(++i>r)for(i-=r;i--;)o+="0";else i<r&&(o=o.slice(0,i)+"."+o.slice(i));else 1<r&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!c||4==e)?"-"+o:o}l.abs=function(){var t=new this.constructor(this);return t.s=1,t},l.cmp=function(t){var e,r=this.c,n=(t=new this.constructor(t)).c,i=this.s,o=t.s,s=this.e,c=t.e;if(!r[0]||!n[0])return r[0]?i:n[0]?-o:0;if(i!=o)return i;if(e=i<0,s!=c)return c<s^e?1:-1;for(o=(s=r.length)<(c=n.length)?s:c,i=-1;++i<o;)if(r[i]!=n[i])return r[i]>n[i]^e?1:-1;return s==c?0:c<s^e?1:-1},l.div=function(t){var e=this.constructor,r=this.c,n=(t=new e(t)).c,i=this.s==t.s?1:-1,o=e.DP;if(o!==~~o||o<0||b<o)throw Error(y);if(!n[0])throw Error(M);if(!r[0])return new e(0*i);var s,c,f,u,h,l=n.slice(),a=s=n.length,g=r.length,v=r.slice(0,s),d=v.length,p=t,w=p.c=[],m=0,E=o+(p.e=this.e-t.e)+1;for(p.s=i,i=E<0?0:E,l.unshift(0);d++<s;)v.push(0);do{for(f=0;f<10;f++){if(s!=(d=v.length))u=d<s?1:-1;else for(h=-1,u=0;++h<s;)if(n[h]!=v[h]){u=n[h]>v[h]?1:-1;break}if(!(u<0))break;for(c=d==s?n:l;d;){if(v[--d]<c[d]){for(h=d;h&&!v[--h];)v[h]=9;--v[h],v[d]+=10}v[d]-=c[d]}for(;!v[0];)v.shift()}w[m++]=u?f:++f,v[0]&&u?v[d]=r[a]||0:v=[r[a]]}while((a++<g||v[0]!==x)&&i--);return w[0]||1==m||(w.shift(),p.e--),E<m&&P(p,o,e.RM,v[0]!==x),p},l.eq=function(t){return!this.cmp(t)},l.gt=function(t){return 0<this.cmp(t)},l.gte=function(t){return-1<this.cmp(t)},l.lt=function(t){return this.cmp(t)<0},l.lte=function(t){return this.cmp(t)<1},l.minus=l.sub=function(t){var e,r,n,i,o=this,s=o.constructor,c=o.s,f=(t=new s(t)).s;if(c!=f)return t.s=-f,o.plus(t);var u=o.c.slice(),h=o.e,l=t.c,a=t.e;if(!u[0]||!l[0])return l[0]?(t.s=-f,t):new s(u[0]?o:0);if(c=h-a){for((n=(i=c<0)?(c=-c,u):(a=h,l)).reverse(),f=c;f--;)n.push(0);n.reverse()}else for(r=((i=u.length<l.length)?u:l).length,c=f=0;f<r;f++)if(u[f]!=l[f]){i=u[f]<l[f];break}if(i&&(n=u,u=l,l=n,t.s=-t.s),0<(f=(r=l.length)-(e=u.length)))for(;f--;)u[e++]=0;for(f=e;c<r;){if(u[--r]<l[r]){for(e=r;e&&!u[--e];)u[e]=9;--u[e],u[r]+=10}u[r]-=l[r]}for(;0===u[--f];)u.pop();for(;0===u[0];)u.shift(),--a;return u[0]||(t.s=1,u=[a=0]),t.c=u,t.e=a,t},l.mod=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(!t.c[0])throw Error(M);return r.s=t.s=1,e=1==t.cmp(r),r.s=i,t.s=o,e?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=o,this.minus(r.times(t)))},l.plus=l.add=function(t){var e,r=this,n=r.constructor,i=r.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,r.minus(t);var s=r.e,c=r.c,f=t.e,u=t.c;if(!c[0]||!u[0])return u[0]?t:new n(c[0]?r:0*i);if(c=c.slice(),i=s-f){for((e=0<i?(f=s,u):(i=-i,c)).reverse();i--;)e.push(0);e.reverse()}for(c.length-u.length<0&&(e=u,u=c,c=e),i=u.length,o=0;i;c[i]%=10)o=(c[--i]=c[i]+u[i]+o)/10|0;for(o&&(c.unshift(o),++f),i=c.length;0===c[--i];)c.pop();return t.c=c,t.e=f,t},l.pow=function(t){var e=this,r=new e.constructor(1),n=r,i=t<0;if(t!==~~t||t<-1e6||1e6<t)throw Error(h+"exponent");for(i&&(t=-t);1&t&&(n=n.times(e)),t>>=1;)e=e.times(e);return i?r.div(n):n},l.round=function(t,e){var r=this.constructor;if(t===x)t=0;else if(t!==~~t||t<-b||b<t)throw Error(y);return P(new r(this),t,e===x?r.RM:e)},l.sqrt=function(){var t,e,r,n=this,i=n.constructor,o=n.s,s=n.e,c=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(f+"No square root");for(s=(t=0===(o=Math.sqrt(n+""))||o===1/0?((e=n.c.join("")).length+s&1||(e+="0"),s=((s+1)/2|0)-(s<0||1&s),new i(((o=Math.sqrt(e))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):new i(o)).e+(i.DP+=4);r=t,t=c.times(r.plus(n.div(r))),r.c.slice(0,s).join("")!==t.c.slice(0,s).join(""););return P(t,i.DP-=4,i.RM)},l.times=l.mul=function(t){var e,r=this.constructor,n=this.c,i=(t=new r(t)).c,o=n.length,s=i.length,c=this.e,f=t.e;if(t.s=this.s==t.s?1:-1,!n[0]||!i[0])return new r(0*t.s);for(t.e=c+f,o<s&&(e=n,n=i,i=e,f=o,o=s,s=f),e=new Array(f=o+s);f--;)e[f]=0;for(c=s;c--;){for(s=0,f=o+c;c<f;)s=e[f]+i[c]*n[f-c-1]+s,e[f--]=s%10,s=s/10|0;e[f]=(e[f]+s)%10}for(s?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},l.toExponential=function(t){return r(this,1,t,t)},l.toFixed=function(t){return r(this,2,t,this.e+t)},l.toPrecision=function(t){return r(this,3,t,t-1)},l.toString=function(){return r(this)},l.valueOf=l.toJSON=function(){return r(this,4)};var g=function r(){function n(t){var e=this;if(!(e instanceof n))return t===x?r():new n(t);t instanceof n?(e.s=t.s,e.e=t.e,e.c=t.c.slice()):function(t,e){var r,n,i;if(0===e&&1/e<0)e="-0";else if(!a.test(e+=""))throw Error(h+"number");for(t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,-1<(r=e.indexOf("."))&&(e=e.replace(".","")),0<(n=e.search(/e/i))?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&"0"==e.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;0<i&&"0"==e.charAt(--i););for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}}(e,t),e.constructor=n}return n.prototype=l,n.DP=e,n.RM=i,n.NE=o,n.PE=s,n.version="5.2.2",n}();t.formatted=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=u((t=function(t){return new g(0<arguments.length&&void 0!==t?t:0)}(t).toString()).split("."),2),n=r[0],i=r[1];return i&&i.length>=e?"".concat(n,".").concat(i.slice(0,e)):i?"".concat(n,".").concat(i):n},t.fromMinimal=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=(t=function(t){return new g(0<arguments.length&&void 0!==t?t:0)}(t).toString()).substring(0,t.length-e).replace(/^0+/,"")||0,n=t.substring(t.length-e).padStart(e,"0").replace(/0+$/,"");return""!==n?"".concat(r,".").concat(n):"".concat(r)},t.toMinimal=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(0<(t=function(t){return new g(0<arguments.length&&void 0!==t?t:0)}(t).toString()).toString().indexOf("e")){var r=String(t).match(/^([\d.]+)e-?(\d+)$/);t="0."+new Array(parseInt(r[2],10)).join("0")+r[1].replace(".","")}var n=u(t.toString().split(/[,.]/),2),i=n[0],o=n[1],s=void 0===o?"":o,c=s.length<e?s.padEnd(e,"0"):s.substr(0,e),f="".concat(i).concat(c).replace(/^0+/,"");return""===f?"0":f},Object.defineProperty(t,"__esModule",{value:!0})});
