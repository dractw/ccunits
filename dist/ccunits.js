!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t=t||self).ccunits={})}(this,function(t){"use strict";function u(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){var e=[],n=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done)&&(e.push(s.value),!r||e.length!==r);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return e}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var r=20,i=1,b=1e6,o=-7,s=21,f="[big.js] ",h=f+"Invalid ",y=h+"decimal places",c=h+"rounding mode",M=f+"Division by zero",l={},x=void 0,a=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function P(t,r,e,n){var i=t.c,o=t.e+r+1;if(o<i.length){if(1===e)n=5<=i[o];else if(2===e)n=5<i[o]||5==i[o]&&(n||o<0||i[o+1]!==x||1&i[o-1]);else if(3===e)n=n||!!i[0];else if(n=!1,0!==e)throw Error(c);if(o<1)i.length=1,i[0]=n?(t.e=-r,1):t.e=0;else{if(i.length=o--,n)for(;9<++i[o];)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(e<0||3<e||e!==~~e)throw Error(c);return t}function e(t,r,e,n){var i,o,s=t.constructor,c=!t.c[0];if(e!==x){if(e!==~~e||e<(3==r)||b<e)throw Error(3==r?h+"precision":y);for(e=n-(t=new s(t)).e,t.c.length>++n&&P(t,e,s.RM),2==r&&(n=t.e+e+1);t.c.length<n;)t.c.push(0)}if(i=t.e,e=(o=t.c.join("")).length,2!=r&&(1==r||3==r&&n<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(1<e?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(0<i)if(++i>e)for(i-=e;i--;)o+="0";else i<e&&(o=o.slice(0,i)+"."+o.slice(i));else 1<e&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!c||4==r)?"-"+o:o}l.abs=function(){var t=new this.constructor(this);return t.s=1,t},l.cmp=function(t){var r,e=this.c,n=(t=new this.constructor(t)).c,i=this.s,o=t.s,s=this.e,c=t.e;if(!e[0]||!n[0])return e[0]?i:n[0]?-o:0;if(i!=o)return i;if(r=i<0,s!=c)return c<s^r?1:-1;for(o=(s=e.length)<(c=n.length)?s:c,i=-1;++i<o;)if(e[i]!=n[i])return e[i]>n[i]^r?1:-1;return s==c?0:c<s^r?1:-1},l.div=function(t){var r=this.constructor,e=this.c,n=(t=new r(t)).c,i=this.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||b<o)throw Error(y);if(!n[0])throw Error(M);if(!e[0])return new r(0*i);var s,c,f,u,h,l=n.slice(),a=s=n.length,g=e.length,v=e.slice(0,s),d=v.length,p=t,w=p.c=[],m=0,E=o+(p.e=this.e-t.e)+1;for(p.s=i,i=E<0?0:E,l.unshift(0);d++<s;)v.push(0);do{for(f=0;f<10;f++){if(s!=(d=v.length))u=d<s?1:-1;else for(h=-1,u=0;++h<s;)if(n[h]!=v[h]){u=n[h]>v[h]?1:-1;break}if(!(u<0))break;for(c=d==s?n:l;d;){if(v[--d]<c[d]){for(h=d;h&&!v[--h];)v[h]=9;--v[h],v[d]+=10}v[d]-=c[d]}for(;!v[0];)v.shift()}w[m++]=u?f:++f,v[0]&&u?v[d]=e[a]||0:v=[e[a]]}while((a++<g||v[0]!==x)&&i--);return w[0]||1==m||(w.shift(),p.e--),E<m&&P(p,o,r.RM,v[0]!==x),p},l.eq=function(t){return!this.cmp(t)},l.gt=function(t){return 0<this.cmp(t)},l.gte=function(t){return-1<this.cmp(t)},l.lt=function(t){return this.cmp(t)<0},l.lte=function(t){return this.cmp(t)<1},l.minus=l.sub=function(t){var r,e,n,i,o=this,s=o.constructor,c=o.s,f=(t=new s(t)).s;if(c!=f)return t.s=-f,o.plus(t);var u=o.c.slice(),h=o.e,l=t.c,a=t.e;if(!u[0]||!l[0])return l[0]?(t.s=-f,t):new s(u[0]?o:0);if(c=h-a){for((n=(i=c<0)?(c=-c,u):(a=h,l)).reverse(),f=c;f--;)n.push(0);n.reverse()}else for(e=((i=u.length<l.length)?u:l).length,c=f=0;f<e;f++)if(u[f]!=l[f]){i=u[f]<l[f];break}if(i&&(n=u,u=l,l=n,t.s=-t.s),0<(f=(e=l.length)-(r=u.length)))for(;f--;)u[r++]=0;for(f=r;c<e;){if(u[--e]<l[e]){for(r=e;r&&!u[--r];)u[r]=9;--u[r],u[e]+=10}u[e]-=l[e]}for(;0===u[--f];)u.pop();for(;0===u[0];)u.shift(),--a;return u[0]||(t.s=1,u=[a=0]),t.c=u,t.e=a,t},l.mod=function(t){var r,e=this,n=e.constructor,i=e.s,o=(t=new n(t)).s;if(!t.c[0])throw Error(M);return e.s=t.s=1,r=1==t.cmp(e),e.s=i,t.s=o,r?new n(e):(i=n.DP,o=n.RM,n.DP=n.RM=0,e=e.div(t),n.DP=i,n.RM=o,this.minus(e.times(t)))},l.plus=l.add=function(t){var r,e=this,n=e.constructor,i=e.s,o=(t=new n(t)).s;if(i!=o)return t.s=-o,e.minus(t);var s=e.e,c=e.c,f=t.e,u=t.c;if(!c[0]||!u[0])return u[0]?t:new n(c[0]?e:0*i);if(c=c.slice(),i=s-f){for((r=0<i?(f=s,u):(i=-i,c)).reverse();i--;)r.push(0);r.reverse()}for(c.length-u.length<0&&(r=u,u=c,c=r),i=u.length,o=0;i;c[i]%=10)o=(c[--i]=c[i]+u[i]+o)/10|0;for(o&&(c.unshift(o),++f),i=c.length;0===c[--i];)c.pop();return t.c=c,t.e=f,t},l.pow=function(t){var r=this,e=new r.constructor(1),n=e,i=t<0;if(t!==~~t||t<-1e6||1e6<t)throw Error(h+"exponent");for(i&&(t=-t);1&t&&(n=n.times(r)),t>>=1;)r=r.times(r);return i?e.div(n):n},l.round=function(t,r){var e=this.constructor;if(t===x)t=0;else if(t!==~~t||t<-b||b<t)throw Error(y);return P(new e(this),t,r===x?e.RM:r)},l.sqrt=function(){var t,r,e,n=this,i=n.constructor,o=n.s,s=n.e,c=new i(.5);if(!n.c[0])return new i(n);if(o<0)throw Error(f+"No square root");for(s=(t=0===(o=Math.sqrt(n+""))||o===1/0?((r=n.c.join("")).length+s&1||(r+="0"),s=((s+1)/2|0)-(s<0||1&s),new i(((o=Math.sqrt(r))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):new i(o)).e+(i.DP+=4);e=t,t=c.times(e.plus(n.div(e))),e.c.slice(0,s).join("")!==t.c.slice(0,s).join(""););return P(t,i.DP-=4,i.RM)},l.times=l.mul=function(t){var r,e=this.constructor,n=this.c,i=(t=new e(t)).c,o=n.length,s=i.length,c=this.e,f=t.e;if(t.s=this.s==t.s?1:-1,!n[0]||!i[0])return new e(0*t.s);for(t.e=c+f,o<s&&(r=n,n=i,i=r,f=o,o=s,s=f),r=new Array(f=o+s);f--;)r[f]=0;for(c=s;c--;){for(s=0,f=o+c;c<f;)s=r[f]+i[c]*n[f-c-1]+s,r[f--]=s%10,s=s/10|0;r[f]=(r[f]+s)%10}for(s?++t.e:r.shift(),c=r.length;!r[--c];)r.pop();return t.c=r,t},l.toExponential=function(t){return e(this,1,t,t)},l.toFixed=function(t){return e(this,2,t,this.e+t)},l.toPrecision=function(t){return e(this,3,t,t-1)},l.toString=function(){return e(this)},l.valueOf=l.toJSON=function(){return e(this,4)};var g=function e(){function n(t){var r=this;if(!(r instanceof n))return t===x?e():new n(t);t instanceof n?(r.s=t.s,r.e=t.e,r.c=t.c.slice()):function(t,r){var e,n,i;if(0===r&&1/r<0)r="-0";else if(!a.test(r+=""))throw Error(h+"number");for(t.s="-"==r.charAt(0)?(r=r.slice(1),-1):1,-1<(e=r.indexOf("."))&&(r=r.replace(".","")),0<(n=r.search(/e/i))?(e<0&&(e=n),e+=+r.slice(n+1),r=r.substring(0,n)):e<0&&(e=r.length),i=r.length,n=0;n<i&&"0"==r.charAt(n);)++n;if(n==i)t.c=[t.e=0];else{for(;0<i&&"0"==r.charAt(--i););for(t.e=e-n-1,t.c=[],e=0;n<=i;)t.c[e++]=+r.charAt(n++)}}(r,t),r.constructor=n}return n.prototype=l,n.DP=r,n.RM=i,n.NE=o,n.PE=s,n.version="5.2.2",n}();t.toMinimal=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(0<(t=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new g(t)}(t).toString()).toString().indexOf("e")){var e=String(t).match(/^([\d.]+)e-?(\d+)$/);t="0."+new Array(parseInt(e[2],10)).join("0")+e[1].replace(".","")}var n=u(t.toString().split(/[,.]/),2),i=n[0],o=n[1],s=void 0===o?"":o,c=s.length<r?s.padEnd(r,"0"):s.substr(0,r),f="".concat(i).concat(c).replace(/^0+/,"");return""===f?"0":f},t.fromMinimal=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=(t=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new g(t)}(t).toString()).substring(0,t.length-r).replace(/^0+/,"")||0,n=t.substring(t.length-r).padStart(r,"0").replace(/0+$/,"");return""!==n?"".concat(e,".").concat(n):"".concat(e)},t.formatted=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=u((t=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new g(t)}(t).toString()).split("."),2),n=e[0],i=e[1];return i&&i.length>=r?"".concat(n,".").concat(i.slice(0,r)):i?"".concat(n,".").concat(i):n},Object.defineProperty(t,"__esModule",{value:!0})});
